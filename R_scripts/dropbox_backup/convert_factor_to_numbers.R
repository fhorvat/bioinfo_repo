as.numeric(levels(dat$f))[dat$f]